# git

プロジェクトのバージョン管理のためのプログラム。

## 使用頻度の高いコマンド

現在の内容を引き継ぎ、新しいブランチを作成する

```bash
git checkout -b ${作成したいブランチ名}
```

他のブランチに切り替える

```bash
git checkout ${切り替えたいブランチ名}
```

ブランチAに別のブランチBをマージする

```bash
git checkout ${ブランチA}
git merge --no-ff ${ブランチB}
#:wqで終了しマージ実行
```

変更のあるファイルをステージにすべて追加

```bash
git add --all
```

commitする

```bash
git commit -m "コミットメッセージ"
```

ブランチをリモートにアップロード(push)する

```bash
git push origin ${pushしたいブランチ}
```

リモートからブランチをダウンロード(pull)する

```bash
git pull
```

## 場合によって使用するコマンド

GitHubからレポジトリをクローンする

```bash
git clone git@github.com:${アカウント名}/${レポジトリ名}.git
```

GitHubからレポジトリをクローンする（https）

```bash
git clone https://github.com/${アカウント名}/${レポジトリ名}.git
```

直前のブランチに上書きする、もしくはコミットメッセージを修正する
※まだリモートにpushしていない場合

```bash
git commit --amend -m "修正したいコミットメッセージ"
```

使わなくなったブランチを削除する

```bash
git branch -D ${削除したいブランチ}
```

## 基本的な役割

バージョン管理

- ファイルの変更の差分を追跡し記録するので、どのように変更したかを確認することができる。
- commitしたものは必要があれば、いつでも以前のバージョンのファイルを復元する事ができる。

ブランチを分ける

- 複数人で作成するWebサイトの場合、分担しながら作成する際にブランチを分けて、都度相互にマージしながら作業を進められる。
- あるWebサイトの別々の箇所を同時期に修正する際、反映すべき予定日が異なる場合はブランチをそれぞれ分けて、それぞれの反映日で順次マージできる。

## .gitignore

一時ファイルやファイルサイズが大きいなどの理由から、追跡不要なファイルがある場合、レポジトリのルートディレクトリに.gitignoreファイルを作成する。

```sh
# 単一のファイルを指定
.DS_Store

# ディレクトリを指定
node_modules/

# 拡張子ごとに指定
*.old

# 先頭に!(否定)を付ければ、基本的には無視するディレクトリの内部であってもファイルを追跡する
ignore/**
!ignore/not_ignore/test.txt
```

.gitignoreファイルを作成し、git commitすれば条件にあてはまるファイルは追跡されなくなる。